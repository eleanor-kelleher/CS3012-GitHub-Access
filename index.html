<!DOCTYPE html>
<html>
  <head>
    <!-- FORMAT FOUND HERE: http://bl.ocks.org/enjalot/1203641 -->
    <link rel="shortcut icon" href="images/favicon-32x32.png">
    <meta charset="utf-8">
    <title>16324085 GitHub Access</title>
    <script type="text/javascript" src="http://mbostock.github.com/d3/d3.js?2.1.3"></script>
    <!--<script type="text/javascript" src="http://mbostock.github.com/d3/d3.geom.js?2.1.3"></script>
    <script type="text/javascript" src="http://mbostock.github.com/d3/d3.layout.js?2.1.3"></script> -->

    <style type="text/css">
        .slice text {
          font-size: 10pt;
          font-family: Arial;}

    </style>
  </head>
  <body>
    <h2>Pie Chart</h2>
    <h3>James Kelleher</h3>
    <script type="text/javascript">

    var margin = {top: 20, right: 20, bottom: 20, left: 20},
      width = 1000 - margin.right - margin.left,
      height = 500 - margin.top - margin.bottom,
      radius = height / 2;
    var colour = d3.scale.category20c();

    var sizes30 = [1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1];
    pcottle = [{"y":0,"login":"pcottle","contributions":1407},
    {"y":15,"login":"twmht","contributions":35},
    {"y":30,"login":"JuhoKang","contributions":32},
    {"y":45,"login":"sunshowers","contributions":20},
    {"y":60,"login":"sPATROL","contributions":18},
    {"y":75,"login":"coyl","contributions":15},
    {"y":90,"login":"alexeiberkov","contributions":15},
    {"y":105,"login":"aschrab","contributions":14},
    {"y":120,"login":"bcbcarl","contributions":14},
    {"y":135,"login":"ahonorat","contributions":10},
    {"y":150,"login":"nem75","contributions":10},
    {"y":165,"login":"nlehuby","contributions":9},
    {"y":180,"login":"alexandear","contributions":8},
    {"y":195,"login":"PanAeon","contributions":7},
    {"y":210,"login":"donkirkby","contributions":6},
    {"y":225,"login":"lroellin","contributions":6},
    {"y":240,"login":"ptsoccer","contributions":6},
    {"y":255,"login":"qiansen1386","contributions":5},
    {"y":270,"login":"renderf0x","contributions":4},
    {"y":285,"login":"filipefilardi","contributions":4},
    {"y":300,"login":"rebangm","contributions":4},
    {"y":315,"login":"marcolivierarsenault","contributions":4},
    {"y":330,"login":"pengi","contributions":4},
    {"y":345,"login":"waldyrious","contributions":4},
    {"y":360,"login":"tym-network","contributions":4},
    {"y":375,"login":"zhyu","contributions":4},
    {"y":390,"login":"mgarciaisaia","contributions":4},
    {"y":405,"login":"andriymoroz","contributions":3},
    {"y":420,"login":"manurFR","contributions":3},
    {"y":435,"login":"lhyqy5","contributions":3}];

    //entire svg
    var vis1 = d3.select("body")
      .append("svg")
      .data([pcottle])
        .attr("width", width)
        .attr("height", height)
      .append("svg:g")
        .attr("transform", "translate(" + radius + "," + radius + ")")

    //pie
    var arc1 = d3.svg.arc()
      .innerRadius(radius * 0.6)
      .outerRadius(radius);

    var pie1 = d3.layout.pie()
      .value(function(d) { return d.contributions; });

    var arcs1 = vis1.selectAll("g.slice")
      .data(pie1)
      .enter()
        .append("svg:g")
          .attr("class", "slice");

        arcs1.append("svg:path")
          .attr("fill", function(d, i) { return colour(i); } )
          .attr("d", arc1);

    //boxes
    var arcboxes1 = d3.svg.symbol().type('square')
		  .size(200);

    var group1 = vis1.append('g')
    	.attr('transform','translate('+ 370 +','+ - 215 + ')  rotate(90)');

    var line1 = group1.selectAll('path')
      .data(sizes30)
    	.enter()
    	.append('path')
    	.attr('d',arcboxes1)
    	.attr("fill", function(d, i) { return colour(i); } )
    	.attr('transform',function(d,i){ return "translate("+(i*15)+","+(100)+")"; });

    var text1 = vis1.selectAll("text")
      .data(pcottle)
      .enter()
      .append("text");

    var textLabels1 = text1
      .attr("x", 285)
      .attr("y", function (d) { return (-212 + d.y);})
      .text( function (d) { return "Login: " + d.login + ", Contributions: " + d.contributions; })
      .attr("font-family", "sans-serif")
      .attr("font-size", "10px");
    </script>

    <h4>User: pcottle</h4>
    <h4>Repository: learnGitBranching</h4>

  </body>
</html>
